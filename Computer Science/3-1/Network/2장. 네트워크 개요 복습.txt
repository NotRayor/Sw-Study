프로토콜,
개념적으로는 약속의 의미..
컴터 상호간의 데이터 송수신에 필요한 '통신규약'이다.

프로토콜의 기능 10가지
1. 주소설정,
2. 순서제어
3. 데이터 대열의 단편화 및 재조합
ㄴ 대용량 파일 전송시, 전송효율이 높도록 작은 단위로 쪼개서, 받는 쪽에서 재조합한다.
4. 캡슐화 - 데이터에 제어정보를 덧 붙인다.
5. 연결제어 - 연결설정, 데이터 전송
6. 흐름제어 - A가 보낼 데이터가 많은데, B가 받을 공간이 매우 적다. 이럴때 B의 상황을 고려치 않고 막 데이터를 보내면
	오버플로우로 데이터가 유실될 것, 그래서 A가 B가 받을만큼.. 여유공간을 고려해서 보내는 것
7. 오류제어 - 오류발생시, 오류에 따라 적합한 처리를 하는 것이다.
8. 동기화 - 두 개체간 데이터 전송시, 송수신자의 시간을 맞추는 것
9. 다중화 - 한개의 배선으로 여러명이 공유하여 사용하는 것으로.. 멀티플렉싱이라고도 한다.
10. 전송서비스 - 우선순위 결정, 서비스 등급과 보안요구를 제어한다.

프로토콜 기능! 
주순데캡연흐오동다전



TCP/IP 4계층,
네트워크 인터페이스 계층 > 인터페이스 계층 > 전송계층 > 응용계층

물리계층, 
시스템 간 연결선.. 단계 ( LAN )
CAT 가테고리로 분류하는데, 속도가 기준이다.
UTP, FTP, STR

커넥터(랜선의 꽂는 부분.. ), 리피터 , 허브 등...

데이터 링크 계층,
물리주소(랜카드,네트워크 장비의 하드웨어 주소 = MAC주소)
12개의 16진수로 구성된 MAC 주소로, 앞의 6자리는 만든 회사, 뒤 6개는 호스트 식별자 (임의)

이더넷
제록스PARC에서 1970년대에 개발한 데이터 링크 계층의 프로토콜

브릿지
랜과 랜을 연결하는 초기 네트워크 장치

스위치
기본적으로 데이터 링크 계층에서 작동하는 스위치 


반이중방식 ( 양방향 편도 ) - 통신을 동시에 송수신하진 않고, 송신했다가 수신했다가.. 나눠야한다.
전이중방식 - 수신,송신을 자유롭게 할 수 있다. 동시에 가능


네트워크 계층
랜을 벗어난 통신을 하기 위해, 네트워크 계층에서는 IP주소를 사용

ARP ( Address Resolution Protocol)
수신자측의, IP주소는 알지만, MAC주소를 모르는 상태에서, 아는 방법은..
상대측에게 물어보는 것.. 
해당 프로토콜은 이러한 방법으로 MAC주소를 알아낸다.

RARP ( Reverse Address Resolution Protocol )
이번엔 반대로 MAC주소는 아는데 IP주소를 모르는 경우, 
IP주소를 알아낸다.

IP ( Internet Protocol )
가장 대표적인 네트워크 계층의 프로토콜
하위 계층 서비스를 이용해, 두 노드간 데이터 전송 경로를 확립해주는 역할이다.
( 단말장치간 패킷전송 서비스 ) 

32자리 2진수로 구성, 8자리마다 점을 찍는다.

클래스 A,B,C로 구분한다. 맨앞부분의 2진수 숫자에 따라 구분한다.
클래스 A, 0~127번 하나 A 클래스에 256^3 호스트 존재
클래스 B, 0 ~ 191번, 하나의 B클래스에 256^2 호스트 존재
클래스 C, 192~223번, 하나의 C클래스에 256 호스트 존재
D .. 224 ~ 239, 멀티미디어 방송시 사용
E 240~ 255 테스팅용, 일반적으로는 사용 안 한다.

사설 네트워크, 공인 네트워크 주소부족 현상 해결을 위해 사용한다.
A클래스 10.0.0.0 ~ 10.255.255.255
B클래스 172.16.0.0 ~ 172.31.255.255
C클래스 192.168.0.0 ~ 192.168.255.255


ICMP(Internet Control Message Protocol)
호스트서버, 인터넷 게이트웨이 사이에서 메시지 제어, 오류 알려주는 프로토콜
ping, traceroute/tracert

IP 설정 관리
라우팅.. 네트워크를 타고 다니는 패킷들을 자기 원하는 목적지로 정하는 개념이다. ( 라우터가 하는 일 )

패킷의 구조 ( 물리계층, IP, UDP/TCP(포트), 정보 ) 
ㄴ 이더넷, IP UDP/TCP, 정보
왼쪽부터 통신절차대로.. 수신자랑 맞는지 체크, 맞지 않는다면 보안을 위해 전송되는 정보를 버린다.



//////////////////
프로토콜의 이해, ip, tcp/udp...

프로토콜이란? 컴퓨터 상호간의 데이터 송수신에 필요한  "통신규약"
소켓 생성시, 기본적으로 프로토콜을 지정해줘야한다.

프로토콜 체계,
프로토콜도 종류에 따라 부류가 나뉜다... 그러한 부류를 프로토콜 체계라고 한다.
PF_INET IPv4 인터넷 프로토콜 체계 ( 구버전 ) 
PF_INET IPv6 인터넷 프로토콜 체계 ( 신버전 ) 
PF_LOCAL 로컬 통신을 위한 UNIX 프로토콜 체계
PF_PACKET Low Level 소켓을 위한 프로토콜 체계
PF_IPX IPX노벨 프로토콜 체계

소켓의 타입
데이터 전송방식을 의미한다.
소켓이 생성될때, 소켓의 타입도 정해줘야한다 int type.. 이 부분

프로토콜 체계 PF_INET의 소켓타입 2가지..
연결지향형 TCP ( SOCK_STREAM)
컨베이너 벨트를 생각하자..
중간에 데이터가 소실되지 않는다.
전송 순서대로 데이터가 전송된다.
데이터 경계가 존재하지 않는다.
소켓 대 소켓 연결은 반드시 1:1구조다.

정보를 잃어버리면 안되는, 은행 웹 같은 곳에서 사용한다.

비연결지향형 UDP ( SOCK_DGRAM)
전송순서 상관없이 빠른 속도의 전송 지향
데이터 손실 및 파손의 우려 있다.
데이터의 경계가 존재한다.
한번에 전송할 수 있는 데이터 크기가 제한된다.
퀵배달 오토바이들을 생각하자! 빠르지만 사고가 날수도 있다.. 보안이 별로 안전하지 않다..

socket(PF_INET, SOCK_STREAM, IPPROTO_TCP);
socket(PF_INET, SOCK_DGRAM, IPPROTO_UDP);

DHCP(Dynamic Host Configuration Protocol)
ㄴ 알아서 설정해 주는 프로토콜




//////////////////


4계층, 전송계층
TCP, UDP...

TCP가 가진 주소를 포트라고 하고, 0~65535번까지 존재한다.
그중 0~1023까지를 Well Known Port 라고 한다. 

FTP 20~21
Telnet 23
SMTP 25
DNS 53
TFTP 69
HTTP 80
POP3 110

1024~65535번 사이의 포트는 사용하지 않는 임의의 포트로.. 응용프로그램별로 활용해 사용한다.

TCP는 연결지향형 프로토콜,
IP와 함께 통신하는데 반드시 필요한 프로토콜

TCP(Transmission Control Protocol)
TCP특징!
1. 높은 신뢰성 
2. 가상 회선 연결 방식 ( 전화기처럼 )
3. 연결의 설정과 해제 ( 어떤 절차를 통해 연결되고 해제된다.. 안전한 통신을 위해서.. )
4. 데이터 체크섬 ( 데이터 오류 방지 ) 
5. 시간 초과와 재전송 ( 요청하고 어떤 시간안에 정보가 응답되어야하는데, 안온다면 상대측에 정보를 다시 보낸다. ) 
6. 데이터 흐름제어 ( 고무호스에 물을 틀면, 호스에 물이 따라가는 것처럼, 네트워크에서의 흐름제어는
	상대측이 10바이트 밖에 받을 수 없다면.. 10바이트씩 쪼개서 보내 데이터 손실이 없도록 하는 것이다.)
7. TCP는 데이터를 안정적으로 보내고 손실 없지만 느리다.

// 안전을 위해서..
연결설정과정 ( Three Way Handshaking )
서버가 Listen 상태.. 
SYN을 클라이언트가 서버로 보내고, 서버가 SYN을 받고나서 SYN+ACK응답을 하고,
클라이언트가 연결되고 ACK를 다시 서버로 보낸다. 서버도 연결 된다.

연결해제과정
클라이언트가 Close Wait 상태>> FIN신호를 서버로 보낸다. 서버도 Close Wait 상태가 되고
ACK를 클라이언트에 보내고, 시간이 지난 후(안정적 통신을 위한 기본작업들을 정리하고 ) FIN을 클라이언트에 또 보낸다.
FIN을 받는 클라이언트가, 연결을 해제하고 ACK를 서버로 보낸다.
서버도 ACK를 받고나서 연결을 해제한다.


UDP ( User Datagram Protocol )
비연결 지향형 프로토콜
상대방이 보낸 응답을 확인하지 않아 네트워크 부하를 주지 않는다.
데이터 자체의 신뢰성이 없다.. 
( UDP는 데이터 전송에 책임을 지지 않는다. ) 

특징
비연결지향형
네트워크 부하 감소
비신뢰성
전송된 데이터 일부가 손실될 수 있다.

7계층, : 응용계층
FTP(File Transfer Protocol 20,21 ) 
파일 전송을 위한 가장 기본적 프로토콜

Telnet(텔넷 23)
사용자가 원격에 있는 서버에 로그인하도록 TCP연결 설정..

SMTP(Simple Mail Transfer Protocol 25)
메일서비스

DNS(Domain Name System, 53)
도메인 이름 주소를 통해 IP주소를 확인할 수 있는 프로토콜
ex. www.kpu.ac.kr 을 검색할때, 1:1로 매핑되는 IP로 변경시켜주는 프로토콜

TFTP(Trivial File Transfer Protocol 69)
파일을 전송하는 프로토콜

HTTP(HyperText Transfer Protocol 80)
인터넷을 위해 사용하는 가장 기본적인 프로토콜

BOOTP(67)
DHCP(68)
SNMP(161,162)
RIP(520)





IP 0800
ARP 0806
RARP 8035
IGRP 88
OSPF 89
ICMP 01

TCP 6
UDP 17

Telnet 23
FTP 20/21
SMTP 25
HTTP 80
DNS 53
BOOTP 67
DHCP 68
TFTP 69
SNMP 161/162
RIP 520
















